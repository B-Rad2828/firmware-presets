#$ TITLE: B-Rad - Basic F411 Setup (OPTIONS)
#$ FIRMWARE_VERSION: 4.3
#$ CATEGORY: OTHER
#$ STATUS: COMMUNITY
#$ KEYWORDS: B-Rad, F411
#$ AUTHOR: Bradley Dick
#$ DESCRIPTION: Basic F411 Setup
#$ DESCRIPTION: 
#$ DESCRIPTION: OPTIONS:
#$ DESCRIPTION: - Whoop
#$ DESCRIPTION: - Toothpick

# reset configuration to default settings
defaults nosave

# serial (Smart Audio UART 2)
serial 1 2048 115200 57600 0 115200

# master
set acc_hardware = NONE
set mag_hardware = NONE
set baro_hardware = NONE

set vbat_scale = 112
set ibata_scale = 1175

# beeper
beeper -GYRO_CALIBRATED
beeper -RX_LOST_LANDING
beeper -DISARMING
beeper -ARMING
beeper -ARMING_GPS_FIX
beeper -BAT_LOW
beeper -GPS_STATUS
beeper -ACC_CALIBRATION
beeper -ACC_CALIBRATION_FAIL
beeper -READY_BEEP
beeper -DISARM_REPEAT
beeper -ARMED
beeper -SYSTEM_INIT
beeper -ON_USB
beeper -BLACKBOX_ERASE
beeper -CRASH_FLIP
beeper -CAM_CONNECTION_OPEN
beeper -CAM_CONNECTION_CLOSE
beeper -RC_SMOOTHING_INIT_FAIL

# beacon
beacon RX_LOST
beacon RX_SET

# map
map TAER1234

# aux (Switches)
aux 0 0 0 1875 2100 0 0
aux 1 13 2 1375 1625 0 0
aux 2 35 2 1900 2100 0 0

set motor_pwm_protocol = DSHOT600
set dshot_idle_value = 400

set yaw_motors_reversed = ON

set vbat_sag_compensation = 100


# -- OPTIONS --


#$ OPTION BEGIN (UNCHECKED): Whoop

feature -AIRMODE
feature -ANTI_GRAVITY
set anti_gravity_gain = 0

set thrust_linear = 50

set vbat_max_cell_voltage = 425
set vbat_min_cell_voltage = 320
set vbat_warning_cell_voltage = 330
#$ OPTION END


#$ OPTION BEGIN (UNCHECKED): Toothpick

feature AIRMODE
feature ANTI_GRAVITY
set anti_gravity_mode = SMOOTH
set anti_gravity_threshold = 250
set anti_gravity_gain = 3500

set thrust_linear = 20

set vbat_max_cell_voltage = 425
set vbat_min_cell_voltage = 320
set vbat_warning_cell_voltage = 335
#$ OPTION END